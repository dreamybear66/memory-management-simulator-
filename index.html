<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Memory Management Simulator</title>

  <!-- Styles -->
  <link rel="stylesheet" href="css/style.css" />

  <!-- External Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>

<header class="app-header" role="banner">
  <div class="header-inner">
    <h1>Memory Management Simulator</h1>
  </div>
</header>

<div class="container">

  <!-- ================= LEFT PANEL ================= -->
  <div class="panel controls">
    <h2>Controls</h2>

   

    <!-- üîπ ALGORITHM -->
    <label>Allocation Algorithm</label>
    <select id="algorithm">
      <option value="first">First Fit</option>
      <option value="next">Next Fit</option>
      <option value="best">Best Fit</option>
      <option value="worst">Worst Fit</option>
    </select>

    <!-- üîπ PROCESS INPUT -->
    <label>Process ID</label>
    <input id="pid" placeholder="e.g., P5" />

    <label>Memory Size (KB)</label>
    <input id="size" type="number" placeholder="e.g., 300" />

    <!-- üîπ ACTION BUTTONS -->
    <button class="btn green" onclick="allocateProcess()">Allocate</button>
    <button class="btn red" onclick="deallocateProcess()">Deallocate</button>
    <button class="btn blue" onclick="compactMemory()">Compact Memory</button>

    <hr />

    <!-- üîπ MEMORY SETUP -->
    <button class="btn green" onclick="loadSampleMemory()">
      Load Sample Memory
    </button>

    <button class="btn olive" onclick="resetMemory()">
      Reset Memory (All Free)
    </button>

    <hr />

    <!-- üîπ TOOLS -->
    <h3>Simulation Tools</h3>
    <button class="btn blue" onclick="playSimulation()">‚ñ∂ Play</button>
    <button class="btn red" onclick="pauseSimulation()">‚è∏ Pause</button>
    <button class="btn olive" onclick="exportPDF()">üìÑ Export PDF</button>

    <!-- Algorithm Descriptions -->
    <div class="algo-desc">
      <h4>Allocation Algorithms</h4>
      <div class="algo-item"><strong>First Fit</strong>: Scans memory from the beginning and places a process in the first free block that is large enough. Fast, but can cause fragmentation near the start.</div>
      <div class="algo-item"><strong>Next Fit</strong>: Like First Fit, but resumes searching from the point of the last allocation (reduces repeated scanning of the same early blocks).</div>
      <div class="algo-item"><strong>Best Fit</strong>: Searches all free blocks and chooses the smallest block that fits the process to minimize wasted space (may leave very small leftover fragments).</div>
      <div class="algo-item"><strong>Worst Fit</strong>: Allocates in the largest available free block (can leave large leftover regions and reduce some fragmentation scenarios).</div>
    </div>

    <!-- Process Queue -->
    <div class="process-queue">
      <h4>Process Queue</h4>
      <button class="btn small" onclick="clearQueue()" style="width:auto;padding:6px 10px;margin-top:8px;">Clear Queue</button>
      <ul id="queue-list" class="queue-list" aria-live="polite"></ul>
    </div>
  </div>

  <!-- ================= RIGHT PANEL ================= -->
  <div class="panel right">

    <!-- MEMORY -->
    <div class="memory-panel">
      <h2>Memory Gantt Chart (Total: 10240 KB)</h2>
      <div id="memory" class="gantt-container" role="img" aria-label="Memory Gantt chart"></div>
      <div id="memory-ticks" class="memory-ticks" aria-hidden="false"></div>
      <div id="memory-legend" class="memory-legend" aria-hidden="false" aria-label="Memory legend"></div>
    </div>

    <!-- STATS -->
    <div class="stats-panel">
      <h2>Statistics</h2>
      <div class="stats-grid" id="stats"></div>
    </div>

    <!-- FRAGMENTATION GRAPH -->
    <div class="chart-panel">
      <h2>Fragmentation Over Time</h2>
      <canvas id="fragChart" height="200"></canvas>
    </div>

  </div>

</div>

<!-- ================= SCRIPTS ================= -->
<script src="js/memory.js"></script>
<script src="js/algorithms.js"></script>
<script src="js/operations.js"></script>
<script src="js/stats.js"></script>
<script src="js/charts.js"></script>
<script src="js/playback.js"></script>
<script src="js/export.js"></script>
<script src="js/ui.js"></script>


</body>
</html>
